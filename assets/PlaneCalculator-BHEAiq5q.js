import{u as M,r as n,j as e}from"./index-Cuc0gYup.js";import{P as z}from"./plotly-CSQGJ495.js";import{A as W}from"./arrow-left-D5par-Uv.js";function B(){const P=M(),[a,$]=n.useState({x:1,y:1,z:1}),[s,k]=n.useState({x:0,y:0,z:1}),[C,D]=n.useState(""),m=n.useRef(null),u=n.useRef(null),V=(t=a,l=s)=>{const r=-(l.x*t.x+l.y*t.y+l.z*t.z),o=[];Math.abs(l.z)===1?o.push("O plano é paralelo ao plano XY"):l.z===0&&o.push("O plano é perpendicular ao plano XY"),Math.abs(l.y)===1?o.push("O plano é paralelo ao plano XZ"):l.y===0&&o.push("O plano é perpendicular ao plano XZ"),Math.abs(l.x)===1?o.push("O plano é paralelo ao plano YZ"):l.x===0&&o.push("O plano é perpendicular ao plano YZ");const[E,S,F]=[l.x,l.y,l.z],c=[-10,10],i=[-10,10],x=50,y=[],w=[],j=[];for(let d=0;d<x;d++)for(let b=0;b<x;b++){const v=c[0]+(c[1]-c[0])*d/(x-1),N=i[0]+(i[1]-i[0])*b/(x-1),I=(-r-E*v-S*N)/F;y.push(v),w.push(N),j.push(I)}const p=l.x===0&&l.y===0&&l.z===0;let g="";p?g=`1. Ponto P = (${a.x}, ${a.y}, ${a.z})
2. Vetor normal n = <${s.x}, ${s.y}, ${s.z}>
3. Verificar se n = (0,0,0).
   - Resultado: Não existe plano definido (vetor normal nulo).`:g=`1. Ponto P = (${a.x}, ${a.y}, ${a.z})
2. Vetor normal n = <${s.x}, ${s.y}, ${s.z}>
3. Verificar se n = (0,0,0).
   - Se sim: Não existe plano definido (vetor normal nulo).
   - Se não: Prosseguir.
4. Calcular d = -(${s.x}*${a.x} + ${s.y}*${a.y} + ${s.z}*${a.z})
   d = ${r}
5. Equação final do plano:
   ${s.x}x + ${s.y}y + ${s.z}z + ${r} = 0`,D(`
      <h2>Equação do Plano</h2>
      <p class="text-lg font-semibold mb-3">
        ${p?"Não existe plano definido (vetor normal nulo)":`${l.x}x + ${l.y}y + ${l.z}z + ${r} = 0`}
      </p>

      <h3>Características do Plano:</h3>
      <ul class="mb-4">
        ${p?"<li>Não há características: plano não existe.</li>":o.map(d=>`<li>${d}</li>`).join("")}
      </ul>

      <h3>Passo a Passo:</h3>
      <pre>${g}</pre>
    `);const R=[{type:"scatter3d",mode:"markers",name:"Ponto P",x:[a.x],y:[a.y],z:[a.z],marker:{size:8,color:"red"}},{type:"scatter3d",mode:"lines",name:"Vetor Normal",x:[a.x,a.x+l.x*2],y:[a.y,a.y+l.y*2],z:[a.z,a.z+l.z*2],line:{width:6,color:"blue"}},{type:"surface",name:"Plano",x:y,y:w,z:j,opacity:.7,colorscale:"Viridis",showscale:!1}],O={margin:{t:0,l:0,r:0,b:0},scene:{xaxis:{title:"X",range:c,showgrid:!0,gridcolor:"#cccccc",zeroline:!0,zerolinecolor:"#888"},yaxis:{title:"Y",range:i,showgrid:!0,gridcolor:"#cccccc",zeroline:!0,zerolinecolor:"#888"},zaxis:{title:"Z",range:[-10,10],showgrid:!0,gridcolor:"#cccccc",zeroline:!0,zerolinecolor:"#888"},camera:{eye:{x:1.5,y:1.5,z:1.5}}},showlegend:!0,paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",autosize:!0,responsive:!0},X=[{type:"scatter",mode:"markers+text",name:"Ponto P (projeção)",x:[a.x],y:[a.y],text:["P"],textposition:"top center",marker:{size:10,color:"red"}},{type:"scatter",mode:"lines+text",name:"Vetor Normal (projeção)",x:[a.x,a.x+l.x*2],y:[a.y,a.y+l.y*2],text:["","n"],textposition:"top center",line:{width:3,color:"blue"}}],Y={title:"Projeção no Plano XY",xaxis:{title:"X",range:c},yaxis:{title:"Y",range:i},showlegend:!0};m.current&&u.current&&(z.newPlot(m.current,R,O),z.newPlot(u.current,X,Y))};n.useEffect(()=>{const t={x:parseFloat(a.x)||0,y:parseFloat(a.y)||0,z:parseFloat(a.z)||0},l={x:parseFloat(s.x)||0,y:parseFloat(s.y)||0,z:parseFloat(s.z)||0};V(t,l)},[a,s]);const h=t=>{const{name:l,value:r}=t.target;$(o=>({...o,[l.replace("p","")]:r}))},f=t=>{const{name:l,value:r}=t.target;k(o=>({...o,[l.replace("n","")]:r}))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f5e9fa] to-[#e6e6fa] flex flex-col justify-center items-center p-2 sm:p-4 md:p-8",children:[e.jsxs("button",{onClick:()=>P("/"),className:"mb-6 flex items-center text-gray-500 hover:text-blue-600 transition-colors text-base sm:text-lg",style:{background:"none",border:"none",boxShadow:"none"},children:[e.jsx(W,{className:"w-5 h-5 mr-2"}),"Voltar ao Menu"]}),e.jsxs("header",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-2xl md:text-4xl font-bold text-gray-800 mb-2 tracking-tight",children:"Calculadora de Plano"}),e.jsx("p",{className:"text-gray-500 text-base sm:text-lg",children:"Determine a equação do plano a partir de um ponto e vetor normal."})]}),e.jsxs("div",{className:"w-full max-w-4xl grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-3 sm:p-4 flex flex-col gap-4 animate-fade-in",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Insira os dados"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Ponto P"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:flex sm:flex-row sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"x"}),e.jsx("input",{type:"number",name:"px",value:a.x,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"y"}),e.jsx("input",{type:"number",name:"py",value:a.y,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"z"}),e.jsx("input",{type:"number",name:"pz",value:a.z,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Vetor Normal"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:flex sm:flex-row sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"x"}),e.jsx("input",{type:"number",name:"nx",value:s.x,onChange:f,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"y"}),e.jsx("input",{type:"number",name:"ny",value:s.y,onChange:f,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"z"}),e.jsx("input",{type:"number",name:"nz",value:s.z,onChange:f,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-4 mb-4 overflow-x-auto",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:C}})})]}),e.jsxs("div",{className:"space-y-4 md:space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-3 sm:p-4 animate-fade-in",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Gráfico 3D"}),e.jsx("div",{ref:m,className:"graph3d",style:{width:"100%",height:"250px",minWidth:0,maxWidth:"100vw",margin:"0 auto"}})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-3 sm:p-4 animate-fade-in",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Gráfico 2D (projeção XY)"}),e.jsx("div",{ref:u,className:"graph2d",style:{width:"100%",height:"250px",minWidth:0,maxWidth:"100vw",margin:"0 auto"}})]})]})]}),window.localStorage.getItem("isDevMode")==="true"&&e.jsxs("div",{className:"plane-flowchart-card rounded-2xl shadow-lg p-4 sm:p-6 mt-6 w-full max-w-4xl animate-fade-in relative overflow-x-auto",style:{background:"#fff"},children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4 text-[#8A05BE] text-center",children:"Fluxograma do Processo"}),e.jsxs("div",{className:"plane-flowchart flex flex-col items-center w-full relative",style:{minHeight:600},children:[e.jsx("div",{className:"plane-flowchart-box",children:"Início"}),e.jsx("div",{className:"plane-flowchart-arrow"}),e.jsx("div",{className:"plane-flowchart-box",children:"Obter Ponto P do Usuário"}),e.jsx("div",{className:"plane-flowchart-arrow"}),e.jsx("div",{className:"plane-flowchart-box",children:"Obter Vetor Normal n do Usuário"}),e.jsx("div",{className:"plane-flowchart-arrow"}),e.jsx("div",{className:"plane-flowchart-diamond",children:e.jsx("span",{children:"Vetor nulo?"})}),e.jsxs("div",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"flex-start",margin:"0.5rem 0"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:180},children:[e.jsx("div",{className:"plane-flowchart-arrow",style:{marginTop:0}}),e.jsx("span",{className:"plane-flowchart-label",style:{color:"#8A05BE",marginBottom:"-0.5rem"},children:"Não"}),e.jsx("div",{className:"plane-flowchart-box",children:"Calcular o valor de 'd'"}),e.jsx("div",{className:"plane-flowchart-arrow"}),e.jsx("div",{className:"plane-flowchart-box",children:"Montar a Equação Geral do Plano: ax + by + cz + d = 0"}),e.jsx("div",{className:"plane-flowchart-arrow"}),e.jsx("div",{className:"plane-flowchart-box",children:"Exibir a Equação do Plano"}),e.jsx("div",{className:"plane-flowchart-arrow"}),e.jsx("div",{className:"plane-flowchart-box",children:"Fim"})]}),e.jsx("div",{style:{width:40}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:180},children:[e.jsx("div",{className:"plane-flowchart-arrow",style:{marginTop:0}}),e.jsx("span",{className:"plane-flowchart-label",style:{color:"#d32f2f",marginBottom:"-0.5rem"},children:"Sim"}),e.jsx("div",{className:"plane-flowchart-box plane-flowchart-error",style:{background:"#fff",color:"#d32f2f",borderColor:"#d32f2f"},children:"Erro: Vetor Normal Nulo"}),e.jsx("div",{className:"plane-flowchart-arrow"}),e.jsx("div",{className:"plane-flowchart-box",children:"Fim"})]})]})]})]})]})}export{B as default};
